<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Moderne</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
 </head>
<body>

<!-- Navbar -->
<nav class="navbar navbar-dark">
    <a class="navbar-brand" href="#">ðŸš€ Dashboard</a>
    <form class="d-flex">
        <input class="form-control me-2" type="search" placeholder="Rechercher..." aria-label="Search">
        <button class="btn btn-outline-light" type="submit"><i class="fas fa-search"></i></button>
    </form>
</nav>

<!-- Sidebar -->
<div class="sidebar">
  <a href="#"><i class="fas fa-home"></i> Partenaire-Service</a>
  <a href="#"><i class="fas fa-home"></i> Assurance</a>
  <a href="#"><i class="fas fa-home"></i> Sinistre</a>
  <a routerLink="/admin/recrutement"><i class="fas fa-plus-circle"></i><span>Recrutement</span></a>
  <a routerLink="/admin/liste-offres-emploi"><i class="fas fa-plus-circle"></i><span>liste-offres-emploi</span></a>
  <a routerLink="/admin/candidatures"><i class="fas fa-plus-circle"></i><span>candidatures</span></a>

  <a href="#"><i class="fas fa-home"></i> User</a>
  <a href="#"><i class="fas fa-home"></i> Avis</a>
  <a href="#"><i class="fas fa-home"></i> Reclamations</a>
  <a href="#"><i class="fas fa-home"></i> RDV</a>

 <!-- Lien pour ajouter un partenaire -->
<a (click)="toggleFormPartenaire()" class="nav-link" style="cursor: pointer;">
  <i class="fas fa-plus-circle"></i> Ajouter Partenaire
</a>

<!-- Lien pour ajouter une offre -->
<a (click)="toggleFormOffre()" class="nav-link" style="cursor: pointer;">
  <i class="fas fa-plus-circle"></i> Ajouter Offre
</a>



</div>

<div class="content">
  <h1>Bienvenue</h1>
  <p>Votre tableau de bord est prÃªt ! ðŸŽ‰</p>

  <div *ngIf="showFormPartenaire" class="card p-3 mt-3">
    <h3>Ajouter un Partenaire</h3>
    <form (submit)="addPartenaire()">
      <div class="mb-3">
        <label for="nom" class="form-label">Nom :</label>
        <input type="text" id="nom" [(ngModel)]="newPartenaire.nom" name="nom" class="form-control" required>
      </div>

      <div class="mb-3">
        <label for="adresse" class="form-label">Adresse :</label>
        <input type="text" id="adresse" [(ngModel)]="newPartenaire.adresse" name="adresse" class="form-control" required>
      </div>

      <button type="submit" class="btn btn-success">Ajouter</button>
      <button type="button" class="btn btn-secondary ms-2" (click)="toggleFormPartenaire()">Annuler</button>
    </form>
  </div>






<!-- Formulaire offre -->
<div *ngIf="showFormOffre">
  <app-offre-partenaire-form (offerAdded)="onOfferAdded()"></app-offre-partenaire-form>
</div>






  <!-- Tableau des partenaires -->
  <div class="mt-4">
    <h2>Liste des Partenaires</h2>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Nom</th>
          <th>Adresse</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let partenaire of partenaires">
          <td>{{ partenaire.id ?? 'N/A' }}</td>
          <td>{{ partenaire.nom }}</td>
          <td>{{ partenaire.adresse }}</td>
          <td>
            <button
              class="btn btn-primary"
              [routerLink]="partenaire.id ? '/admin/partenaire-edit/' + partenaire.id : ''"
              [disabled]="!partenaire.id"
            >
              Modifier
            </button>
            <button
              class="btn btn-danger"
              (click)="deletePartenaire(partenaire.id)"
              [disabled]="!partenaire.id"
            >
              Supprimer
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>


  <!-- Tableau des offres -->
  <div class="mt-4">
    <h2>Liste des Offres</h2>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>ID</th>
          <th>Type d'Offre</th>
          <th>Description</th>
          <th>Prix</th>
          <th>Localisation</th>
          <th>Actions</th>

        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let offre of offres">
          <td>{{ offre.id ?? 'N/A' }}</td>
          <td>{{ offre.typeOffre }}</td>
          <td>{{ offre.description }}</td>
          <td>{{ offre.prix }}</td>
          <td>{{ offre.localisation }}</td>
          <td>
            <button
              class="btn btn-danger"
              (click)="deleteOffre(offre.id)"
              [disabled]="!offre.id"
            >
              Supprimer
            </button>


          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
