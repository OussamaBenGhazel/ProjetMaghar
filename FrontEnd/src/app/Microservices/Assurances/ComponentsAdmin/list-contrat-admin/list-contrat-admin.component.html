<div class="container mt-4">
  <h2>Liste des Contrats</h2>

  <!-- Affichage du message de chargement -->
  <div *ngIf="isLoading" class="alert alert-info">Chargement des contrats...</div>

  <!-- Affichage d'une erreur -->
  <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>

  <!-- Tableau des contrats -->
  <table *ngIf="contrats.length > 0" class="table table-bordered table-striped">
    <thead class="thead-dark">
      <tr>
        <th>Numéro</th>
        <th>Date Début</th>
        <th>Date Fin</th>
        <th>Montant Assuré</th>
        <th>Prime</th>
        <th>Statut</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let contrat of contrats">
        <td>{{ contrat.numeroContrat }}</td>
        <td>{{ contrat.dateDebut | date }}</td>
        <td>{{ contrat.dateFin | date }}</td>
        <td>{{ contrat.montantAssure | currency:'EUR' }}</td>
        <td>{{ contrat.prime | currency:'EUR' }}</td>
        <td>
          <span class="badge" 
                [ngClass]="{
                  'badge-success': contrat.statut === 'ACTIVE',
                 
                }">
            {{ contrat.statut }}
          </span>
        </td>
        <td>
          <button class="btn btn-info btn-sm" (click)="viewDetails(contrat.id)">Voir</button>
          <button class="btn btn-danger btn-sm" (click)="deleteContrat(contrat.id!)">Supprimer</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Message si aucun contrat trouvé -->
  <div *ngIf="!isLoading && contrats.length === 0" class="alert alert-warning">
    Aucun contrat disponible.
  </div>
</div>